{% load i18n %}
{% load static %}
<div id="change-password-container" class="relative bg-white rounded-lg shadow-sm p-5">

  <div class="flex justify-between items-center mb-2">
    <h2 class="text-md font-semibold">{% trans "Change Your Password" %}</h2>
    <button type="button" onclick="closeModal()" class="text-gray-500 hover:text-red-500 text-xl cursor-pointer">
        <img src="{% static 'assets/icons/close.svg' %}" alt="Close" />
    </button>
</div>

  <form
    hx-post="{% url 'horilla_core:change_password_form' %}"
    hx-target="#change-password-container"
    hx-swap="outerHTML">
    {% csrf_token %}

    <!-- Display non-field errors -->
    {% if form.non_field_errors %}
    <div class="bg-red-50 text-red-500 px-4 py-3 rounded-lg text-sm mb-4">
        {% for error in form.non_field_errors %}
            {{ error }}<br>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Form Fields -->
    <div class="space-y-4 mb-6">
      {% for field in form %}
        <div class="form-group">
            <label for="{{ field.id_for_label }}" class="text-xs text-color-600">
                {{ field.label }}
                {% if field.field.required %}<span class="text-red-500">*</span>{% endif %}
            </label>
          {{ field }}
          {% if field.errors %}
                <div class="bg-red-50 text-red-500 px-3 py-2 rounded text-xs mt-1">
                    {% for error in field.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
        </div>
      {% endfor %}
    </div>

    <!-- Action Buttons -->
    <div class="flex justify-end gap-3">
      <button
        type="submit"
        class="px-4 py-2 bg-primary-600  text-white rounded-md font-medium text-sm transition-colors">
        {% trans "Change Password" %}
      </button>
    </div>
  </form>
</div>
